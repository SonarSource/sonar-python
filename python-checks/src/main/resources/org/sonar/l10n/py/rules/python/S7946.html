<p>This rule raises an issue when f-strings or string concatenation are used in logging statements.</p>
<h2>Why is this an issue?</h2>
<p>Using f-strings and string concatenation in logging statements creates unnecessary performance overhead. When you use f-strings or string
concatenation, Python evaluates and formats the string immediately, regardless of whether the log message will actually be written based on the
current logging level.</p>
<p>This means that if your application has debug-level logging statements with f-strings, but the logging level is set to WARNING or higher, Python
will still spend CPU cycles formatting those strings even though they will never be displayed or written to logs.</p>
<p>Python’s logging module uses lazy evaluation with its built-in string formatting. When you pass format strings and arguments separately to logging
methods, the string formatting only occurs if the log message passes the level filter. This can provide significant performance benefits, especially
in applications with many debug statements or high-frequency logging.</p>
<h3>What is the potential impact?</h3>
<p>Using f-strings and string concatenation in logging can lead to:</p>
<ul>
  <li> <strong>Performance degradation</strong>: String formatting occurs unconditionally, even when log messages are filtered out by level </li>
  <li> <strong>CPU waste</strong>: Applications with extensive debug logging may spend significant time formatting unused strings </li>
  <li> <strong>Scalability issues</strong>: In high-throughput applications, the cumulative effect of unnecessary string formatting can impact overall
  performance </li>
  <li> <strong>Memory overhead</strong>: Intermediate string objects are created even when the log message won’t be used </li>
</ul>
<h3>How to fix?</h3>
<p>Replace custom formatters with Python’s built-in string formatting in logging calls. Use format specifiers directly in the logging methods.</p>
<h4>Non-compliant code example</h4>
<pre data-diff-id="1" data-diff-type="noncompliant">
import logging

def log(action, amount, item):
  logging.info(f"User {action}: {amount:.2f} {item}")  # Noncompliant: using f-string formatting
</pre>
<h4>Compliant code example</h4>
<pre data-diff-id="1" data-diff-type="compliant">
import logging

def log(action, amount, item):
  logging.info("User %s: %.2f %s", action, amount, item)
</pre>
<h3>Documentation</h3>
<ul>
  <li> Python Logging HOWTO - <a href="https://docs.python.org/3/howto/logging.html">Official Python documentation on logging best practices</a> </li>
  <li> Logging Cookbook - <a href="https://docs.python.org/3/howto/logging-cookbook.html">Advanced logging techniques and patterns in Python</a> </li>
  <li> String Formatting in Python - <a href="https://docs.python.org/3/library/string.html#format-string-syntax">Documentation on Python’s string
  formatting capabilities</a> </li>
</ul>

